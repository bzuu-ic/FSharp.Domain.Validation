<!doctype html>
<html>
<head>

    <title>Demo</title>

    <!-- This is the narrowest openfont font I could find -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@300&display=swap" rel="stylesheet">

    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" />
    <link rel="stylesheet" href="style.css" />

</head>
<body>
    <p>
        <textarea id="inp" rows="3" placeholder="Type anything here to see it in action" spellcheck="false"></textarea>
    </p>
    <table>
        <thead>
            <tr><th colspan="2">The very complicated F# code behind this page</th></tr>
        </thead>
        <tbody>
            <tr>
            </tr>
            <tr><td>&nbsp;</td><td>&nbsp;</td></tr>
            <tr><td class="comment">// Register our listener</td><td></td></tr>
            <tr><td>box.oninput <span class="keyword">&lt;- fun</span> _ <span class="keyword">-&gt;</span></td><td></td></tr>


            <!-- Example 1 -->
            <tr><td>&nbsp;</td><td></td></tr>
            <tr><td>&nbsp;&nbsp;result1.textContent <span class="keyword">&lt;-</span></td><td></td></tr>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;<!--<span class="type">Block</span>.-->validate&lt;<span class="type">Text</span>&gt; box.value</td>
                <td>// Defined as non-multiline text</td>
            </tr>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">|&gt;</span> <span class="type">Result</span>.toText</td>
                <td>// → <span id="resultBox1" class="result">waiting for input...</span></td>
            </tr>

            <!-- Example 2 -->
            <tr><td>&nbsp;</td><td></td></tr>
            <tr><td>&nbsp;&nbsp;result2.textContent <span class="keyword">&lt;-</span></td><td></td></tr>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;<!--<span class="type">Block</span>.-->validate&lt;<span class="type">FreeText</span>&gt; box.value</td>
                <td>// Defined as any non-blank text</td>
            </tr>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">|&gt;</span> <span class="type">Result</span>.toText</td>
                <td>// → <span id="resultBox2" class="result">waiting for input...</span></td>
            </tr>

            <!-- Example 3 -->
            <tr><td>&nbsp;</td><td></td></tr>
            <tr><td>&nbsp;&nbsp;result3.textContent <span class="keyword">&lt;-</span></td><td></td></tr>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;<!--<span class="type">Block</span>.-->validate&lt;<span class="type">Integer</span>&gt; box.value</td>
                <td>// Defined as parseable to int</td>
            </tr>
            <tr>
                <td>&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">|&gt;</span> <span class="type">Result</span>.toText</td>
                <td>// → <span id="resultBox3" class="result">waiting for input...</span></td>
            </tr>


            <tr><td>&nbsp;</td><td></td></tr>
        </tbody>
    </table>
    <div>Powered by <a href="https://github.com/lfr/FSharp.ValidationBlocks">FSharp.ValidationBlocks.Fable</a></div>


    <pre>.</pre>

    <!-- emoji favicon -->
    <script language="javascript">
        const faviconHref = emoji =>
            `data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22
             width=%22256%22 height=%22256%22 viewBox=%220 0 100 100%22><text
             x=%2250%%22 y=%2250%%22 dominant-baseline=%22central%22
             text-anchor=%22middle%22 font-size=%2280%22>${emoji}</text></svg>`
        document.querySelector("link[rel*='icon']").href = faviconHref("🧪");
    </script>
    <script src="bundle.js"></script>
</body>
</html>